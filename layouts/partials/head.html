<!DOCTYPE html>
{{ "<!--[if lt IE 7]>" | safeHTML }} <html class="no-js lt-ie9 lt-ie8 lt-ie7"> {{ "<![endif]-->" | safeHTML }}
{{ "<!--[if IE 7]>" | safeHTML }} <html class="no-js lt-ie9 lt-ie8"> {{ "<![endif]-->" | safeHTML }}
{{ "<!--[if IE 8]>" | safeHTML }} <html class="no-js lt-ie9"> {{ "<![endif]-->" | safeHTML }}
{{ "<!--[if gt IE 8]><!-->" | safeHTML }} <html class="no-js"> {{ "<!--<![endif]-->" | safeHTML }}
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    {{ $singular_title := .Title }}
    {{ $s := index $.Site.Data.metadata $singular_title }}

    {{ $.Scratch.Add "title" "" }}
    {{ $.Scratch.Add "description" "" }}

    {{ if (.IsHome) }}
        <!-- // is home -->
        
    {{ else if (.IsNode) }}
        <!-- // is node -->
    {{ else if (.IsPage) }}
        {{ if eq .Type "page" }}
            <!-- // is page -->
        {{ else }}
            <!-- // is comic -->
        {{ end }}
    {{ else }}    
        <!-- // is nothing -->
    {{ end }}





    
    
    {{ if isset $s "name" }}
        {{ $.Scratch.Set "title" $s.name }}
        {{ $.Scratch.Set "description" $s.description }}
    {{ else }}
        {{ $.Scratch.Set "title" .Site.Title }}
        {{ $.Scratch.Set "description" .Site.Params.Description }}
    {{ end }}


    {{ if (.IsHome) }}
        <!-- // is home -->
        <title>{{ .Site.Title }} || {{ .Site.Params.Description }}</title>
        <!-- Chipmunk Bay || a comic by Justin Parks -->
    {{ else if (.IsNode) }}
        <!-- // is node -->
        <title>{{ $.Scratch.Get "title" }} archives || {{ .Site.Title }}</title>
        <!-- Chipmunk Bay archives || Chipmunk Bay -->
    {{ else if (.IsPage) }}
        {{ if eq .Type "page" }}
            <!-- // is page -->
            <title>{{ .Title }} || {{ .Site.Title }}</title>
            <!-- Page title || Chipmunk Bay -->
        {{ else }}
            <!-- // is comic -->
            <title>Comic: {{ .Title }} by {{ .Site.Author.name }} || {{ .Site.Title }}</title>
            <!-- Chipmunk Bay || a comic by Justin Parks -->
        {{ end }}
    {{ else }}    
        <!-- // is nothing -->
        <title>{{ .Site.Title }} || {{ .Site.Params.Description }}</title>
        <!-- Chipmunk Bay || a comic by Justin Parks -->
    {{ end }}




    <meta name="description" content="{{ .Scratch.Get "description" }}"> 
    <meta name="author" content="{{ .Site.Author.name }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <!-- rss -->
    {{ if .RSSlink }}
    <link href="{{ .RSSlink }}" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}" />
    <link href="{{ .RSSlink }}" rel="feed" type="application/rss+xml" title="{{ .Site.Title }}" />
    {{ else }}
    <link href="{{ .Site.BaseURL }}index.xml" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}" />
    <link href="{{ .Site.BaseURL }}index.xml" rel="feed" type="application/rss+xml" title="{{ .Site.Title }}" />
    {{ end }}


    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Gochi+Hand|Architects+Daughter" type="text/css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}_files/css/style.css" />
    <!-- Facebook OpenGraph tags -->
    <meta property="og:title" content="{{ $.Scratch.Get "title" }}" />
    <meta property="og:type" content="website" />
    {{ if .IsPage }}
    <meta property="og:url" content="{{ .Permalink }}" />
    {{ else }}
    <meta property="og:url" content="{{ .URL | absURL }}" />
    {{ end }}

    {{ if isset .Params "comic" }}
        <!-- define title -->
        {{ $t := title .Type }}
        <!-- define metadata -->
        {{ $s := index $.Site.Data.metadata $t }}
        <meta property="og:image" content="{{ .Site.BaseURL }}_files/comics/{{ $s.folder }}/1400/{{ .Params.comic }}" />
    {{ else }}
    <!--<meta property="og:image" content="{{ .Site.Params.logo }}" />-->
    {{ end }}
    <meta property="og:site_name" content="{{ .Site.Title }}" />
    <meta property="fb:admins" content="100000475633246" />
    <meta property="og:description" content="{{ $.Scratch.Get "description" }}" />

    <script>
    /*! grunt-grunticon Stylesheet Loader - v2.1.2 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */
    (function(e) { function t(t, n, r, o) { "use strict"; function a() { for (var e, n = 0; u.length > n; n++) u[n].href && u[n].href.indexOf(t) > -1 && (e = !0); e ? i.media = r || "all" : setTimeout(a) } var i = e.document.createElement("link"), l = n || e.document.getElementsByTagName("script")[0], u = e.document.styleSheets; return i.rel = "stylesheet", i.href = t, i.media = "only x", i.onload = o || null, l.parentNode.insertBefore(i, l), a(), i } var n = function(r, o) { "use strict"; if (r && 3 === r.length) { var a = e.navigator, i = e.Image, l = !(!document.createElementNS || !document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect || !document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1") || e.opera && -1 === a.userAgent.indexOf("Chrome") || -1 !== a.userAgent.indexOf("Series40")), u = new i; u.onerror = function() { n.method = "png", n.href = r[2], t(r[2]) }, u.onload = function() { var e = 1 === u.width && 1 === u.height, a = r[e && l ? 0 : e ? 1 : 2]; n.method = e && l ? "svg" : e ? "datapng" : "png", n.href = a, t(a, null, null, o) }, u.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==", document.documentElement.className += " grunticon" } }; n.loadCSS = t, e.grunticon = n })(this); (function(e, t) { "use strict"; var n = t.document, r = "grunticon:", o = function(e) { if (n.attachEvent ? "complete" === n.readyState : "loading" !== n.readyState) e(); else { var t = !1; n.addEventListener("readystatechange", function() { t || (t = !0, e()) }, !1) } }, a = function(e) { return t.document.querySelector('link[href$="' + e + '"]') }, c = function(e) { var t, n, o, a, c, i, u = {}; if (t = e.sheet, !t) return u; n = t.cssRules ? t.cssRules : t.rules; for (var l = 0; n.length > l; l++) o = n[l].cssText, a = r + n[l].selectorText, c = o.split(");")[0].match(/US\-ASCII\,([^"']+)/), c && c[1] && (i = decodeURIComponent(c[1]), u[a] = i); return u }, i = function(e) { var t, o, a; o = "data-grunticon-embed"; for (var c in e) if (a = c.slice(r.length), t = n.querySelectorAll(a + "[" + o + "]"), t.length) for (var i = 0; t.length > i; i++) t[i].innerHTML = e[c], t[i].style.backgroundImage = "none", t[i].removeAttribute(o); return t }, u = function(t) { "svg" === e.method && o(function() { i(c(a(e.href))), "function" == typeof t && t() }) }; e.embedIcons = i, e.getCSS = a, e.getIcons = c, e.ready = o, e.svgLoadedCallback = u, e.embedSVG = u })(grunticon, this);


    grunticon(["{{ .Site.BaseURL }}_files/img/icons.data.svg.css", "{{ .Site.BaseURL }}_files/img/icons.data.png.css", "{{ .Site.BaseURL }}_files/img/icons.fallback.css"], grunticon.svgLoadedCallback);
    </script>
    <noscript>
        <link href="{{ .Site.BaseURL }}_files/img/icons.fallback.css" rel="stylesheet">
    </noscript>
</head>

{{ if (.IsHome) }}
<body class="ishome">
{{ else if (.IsNode) }}
<body class="isnode">
{{ else if (.IsPage) }}
    {{ if eq .Type "page" }}
        <body class="ispage">
    {{ else }}
        <body class="iscomic">
    {{ end }}
{{ else }}    
<body>       
{{ end }}
<!--[if lt IE 7]>
            <p class="browsehappy">
                You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
            </p>
        <![endif]-->
<header class="header icon-header-bg">
    
    <div class="container">
        <h2>
            <a href="{{ .Site.BaseURL }}">
                <strong>{{.Site.Title}}</strong>
                <i class="icon-logo animated"></i>
            </a>
        </h2>
        {{ partial "nav.html" . }}
    </div>
    
</header>